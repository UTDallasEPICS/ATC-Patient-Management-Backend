// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  first_name String
  last_name String
  email String @unique 
  id    Int      @id @default(autoincrement())
  phone_number String
  birthday DateTime
  role Role @default(USER)
  EmployeeProfile EmplyeeProfile? 
  PatientProfile PatientProfile?
}
enum Role{
  PATIENT
  EMPLOYEE
}
//make two profiles for employee and patient
//link to profiles for types of users (roles) 
model EmployeeProfile{
  Role EMPLOYEE
  isTherapist Boolean?
  isAdmin Boolean?
  EmployeeProfile_id Int @id @default(autoincrement())
  users users @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction)
   //do i put 'role' in references? 
}

model PatientProfile{
  Role PATIENT
  isParent Boolean?
  PatientProfile_id Int @id @default(autoincrement())
  users users @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction)
 //same question here
}


model Behavior {
  name String
  description String
}

model Report {
  sessionTime DateTime
  data Json
  patientId int
  employeeId int
  patient User @relation(fields: [patientId], references: [id])
  employee User @relation(fields: [employeeId], references: [id])
}

model Program {
  programId int
  patient User @relation(fields: [programId], references: [id])
  behaviors @relation
}